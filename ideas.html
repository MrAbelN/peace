<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Ideas - The Peace Framework</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="src/css/layout.css">
        <link rel="stylesheet" href="src/css/presentation.css">
        <link rel="stylesheet" href="src/css/terminal.css">

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="background.html"><strong aria-hidden="true">2.</strong> Background</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="background/purpose.html"><strong aria-hidden="true">2.1.</strong> Purpose</a></li><li class="chapter-item "><a href="background/strategy.html"><strong aria-hidden="true">2.2.</strong> Strategy</a></li></ol></li><li class="chapter-item expanded "><a href="examples.html"><strong aria-hidden="true">3.</strong> Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/download.html"><strong aria-hidden="true">3.1.</strong> Download</a></li><li class="chapter-item "><a href="examples/envman.html"><strong aria-hidden="true">3.2.</strong> Env Man</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="examples/envman/walkthrough.html"><strong aria-hidden="true">3.2.1.</strong> Walkthrough</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="technical_concepts.html"><strong aria-hidden="true">4.</strong> Technical Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/resources.html"><strong aria-hidden="true">4.1.</strong> Resources</a></li><li class="chapter-item "><a href="technical_concepts/function_graph.html"><strong aria-hidden="true">4.2.</strong> Function Graph</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/function_graph/abstraction.html"><strong aria-hidden="true">4.2.1.</strong> Abstraction</a></li><li class="chapter-item "><a href="technical_concepts/function_graph/ordering.html"><strong aria-hidden="true">4.2.2.</strong> Ordering</a></li><li class="chapter-item "><a href="technical_concepts/function_graph/streaming.html"><strong aria-hidden="true">4.2.3.</strong> Streaming</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/item.html"><strong aria-hidden="true">4.3.</strong> Item</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/item/item_parameters.html"><strong aria-hidden="true">4.3.1.</strong> Item Parameters</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/item/item_parameters/value_specification.html"><strong aria-hidden="true">4.3.1.1.</strong> Value Specification</a></li><li class="chapter-item "><a href="technical_concepts/item/item_parameters/params_specification.html"><strong aria-hidden="true">4.3.1.2.</strong> Params Specification</a></li><li class="chapter-item "><a href="technical_concepts/item/item_parameters/params_framework_support.html"><strong aria-hidden="true">4.3.1.3.</strong> Params Framework Support</a></li><li class="chapter-item "><a href="technical_concepts/item/item_parameters/mapping_functions.html"><strong aria-hidden="true">4.3.1.4.</strong> Mapping Functions</a></li></ol></li></ol></li><li class="chapter-item "><a href="technical_concepts/item_graph.html"><strong aria-hidden="true">4.4.</strong> Item Graph</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/item_graph/initialization.html"><strong aria-hidden="true">4.4.1.</strong> Initialization</a></li><li class="chapter-item "><a href="technical_concepts/item_graph/state_inspection.html"><strong aria-hidden="true">4.4.2.</strong> State Inspection</a></li><li class="chapter-item "><a href="technical_concepts/item_graph/state_ensure.html"><strong aria-hidden="true">4.4.3.</strong> State Ensure</a></li><li class="chapter-item "><a href="technical_concepts/item_graph/clean.html"><strong aria-hidden="true">4.4.4.</strong> Clean</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/state.html"><strong aria-hidden="true">4.5.</strong> State</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/state/logical_state.html"><strong aria-hidden="true">4.5.1.</strong> Logical State</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/output.html"><strong aria-hidden="true">4.6.</strong> Output</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/output/execution_progress.html"><strong aria-hidden="true">4.6.1.</strong> Execution Progress</a></li><li class="chapter-item "><a href="technical_concepts/output/presentation.html"><strong aria-hidden="true">4.6.2.</strong> Presentation</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/diagrams.html"><strong aria-hidden="true">4.7.</strong> Diagrams</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/diagrams/progress.html"><strong aria-hidden="true">4.7.1.</strong> Progress</a></li><li class="chapter-item "><a href="technical_concepts/diagrams/outcome.html"><strong aria-hidden="true">4.7.2.</strong> Outcome</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/diagrams/outcome/render_technology.html"><strong aria-hidden="true">4.7.2.1.</strong> Render Technology</a></li><li class="chapter-item "><a href="technical_concepts/diagrams/outcome/html_flexbox.html"><strong aria-hidden="true">4.7.2.2.</strong> HTML + Flexbox</a></li><li class="chapter-item "><a href="technical_concepts/diagrams/outcome/div_diag.html"><strong aria-hidden="true">4.7.2.3.</strong> Div Diag</a></li></ol></li></ol></li><li class="chapter-item "><a href="technical_concepts/endpoints_and_interaction.html"><strong aria-hidden="true">4.8.</strong> Endpoints and Interaction</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/endpoints_and_interaction/cmd_invocation.html"><strong aria-hidden="true">4.8.1.</strong> Cmd Invocation</a></li><li class="chapter-item "><a href="technical_concepts/endpoints_and_interaction/interruption.html"><strong aria-hidden="true">4.8.2.</strong> Interruption</a></li><li class="chapter-item "><a href="technical_concepts/endpoints_and_interaction/progress_output.html"><strong aria-hidden="true">4.8.3.</strong> Progress Output</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/workspace.html"><strong aria-hidden="true">4.9.</strong> Workspace</a></li><li class="chapter-item "><a href="technical_concepts/commands.html"><strong aria-hidden="true">4.10.</strong> Commands</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/commands/scopes.html"><strong aria-hidden="true">4.10.1.</strong> Scopes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/commands/scopes/reborrowing.html"><strong aria-hidden="true">4.10.1.1.</strong> Reborrowing</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases.html"><strong aria-hidden="true">4.10.2.</strong> Use Cases</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/commands/use_cases/workspace_initialization.html"><strong aria-hidden="true">4.10.2.1.</strong> Workspace Initialization</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/profile_list.html"><strong aria-hidden="true">4.10.2.2.</strong> Profile List</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/workspace_stored_active_profile.html"><strong aria-hidden="true">4.10.2.3.</strong> Workspace Stored Active Profile</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/workspace_active_profile_switch.html"><strong aria-hidden="true">4.10.2.4.</strong> Workspace Active Profile Switch</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/state_discovery_and_display.html"><strong aria-hidden="true">4.10.2.5.</strong> State Discovery and Display</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/state_read_and_display.html"><strong aria-hidden="true">4.10.2.6.</strong> State Read and Display</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/state_diff.html"><strong aria-hidden="true">4.10.2.7.</strong> State Diff</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/state_apply.html"><strong aria-hidden="true">4.10.2.8.</strong> State Apply</a></li><li class="chapter-item "><a href="technical_concepts/commands/use_cases/state_clean.html"><strong aria-hidden="true">4.10.2.9.</strong> State Clean</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/commands/cmd_execution.html"><strong aria-hidden="true">4.10.3.</strong> Cmd Execution</a></li><li class="chapter-item "><a href="technical_concepts/commands/interruptibility.html"><strong aria-hidden="true">4.10.4.</strong> Interruptibility</a></li></ol></li><li class="chapter-item "><a href="technical_concepts/flow_versioning.html"><strong aria-hidden="true">4.11.</strong> Flow Versioning</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="technical_concepts/flow_versioning/seamless_execution.html"><strong aria-hidden="true">4.11.1.</strong> Seamless Execution</a></li><li class="chapter-item "><a href="technical_concepts/flow_versioning/upgrade_actions.html"><strong aria-hidden="true">4.11.2.</strong> Upgrade Actions</a></li><li class="spacer"></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Learning Material</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="learning_material/user_facing_automation_part_1.html"><strong aria-hidden="true">5.1.</strong> User Facing Automation - Part 1</a></li><li class="chapter-item "><a href="learning_material/user_facing_automation_part_2.html"><strong aria-hidden="true">5.2.</strong> User Facing Automation - Part 2</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design.html"><strong aria-hidden="true">5.3.</strong> Empathetic Code Design</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="learning_material/empathetic_code_design/background.html"><strong aria-hidden="true">5.3.1.</strong> Background</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/scenario.html"><strong aria-hidden="true">5.3.2.</strong> Scenario</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/flow_definition.html"><strong aria-hidden="true">5.3.3.</strong> Flow Definition</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/inputs_and_outputs.html"><strong aria-hidden="true">5.3.4.</strong> Inputs and Outputs</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/parameters_specification.html"><strong aria-hidden="true">5.3.5.</strong> Parameters Specification</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/output_and_presentation.html"><strong aria-hidden="true">5.3.6.</strong> Output and Presentation</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/command_invocation.html"><strong aria-hidden="true">5.3.7.</strong> Command Invocation</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/parameters_recall.html"><strong aria-hidden="true">5.3.8.</strong> Parameters Recall</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/workspace.html"><strong aria-hidden="true">5.3.9.</strong> Workspace</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/profiles.html"><strong aria-hidden="true">5.3.10.</strong> Profiles</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/summary.html"><strong aria-hidden="true">5.3.11.</strong> Summary</a></li><li class="chapter-item "><a href="learning_material/empathetic_code_design/qna.html"><strong aria-hidden="true">5.3.12.</strong> Q & A</a></li></ol></li><li class="chapter-item "><a href="learning_material/interruptible_software.html"><strong aria-hidden="true">5.4.</strong> Interruptible Software</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="learning_material/interruptible_software/processes.html"><strong aria-hidden="true">5.4.1.</strong> Processes</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/execution.html"><strong aria-hidden="true">5.4.2.</strong> Execution</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/bus_analogy.html"><strong aria-hidden="true">5.4.3.</strong> Bus Analogy</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_interruptibility.html"><strong aria-hidden="true">5.4.4.</strong> Designing Interruptibility</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="learning_material/interruptible_software/designing_interruptibility/stop_button.html"><strong aria-hidden="true">5.4.4.1.</strong> Stop Button</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_interruptibility/stopping_point.html"><strong aria-hidden="true">5.4.4.2.</strong> Stopping Point</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_interruptibility/parallelism.html"><strong aria-hidden="true">5.4.4.3.</strong> Parallelism</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_interruptibility/reporting.html"><strong aria-hidden="true">5.4.4.4.</strong> Reporting</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_interruptibility/strategy.html"><strong aria-hidden="true">5.4.4.5.</strong> Strategy</a></li></ol></li><li class="chapter-item "><a href="learning_material/interruptible_software/interruptible_implementation.html"><strong aria-hidden="true">5.4.5.</strong> Interruptible Implementation</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/resumability.html"><strong aria-hidden="true">5.4.6.</strong> Resumability</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_resumability.html"><strong aria-hidden="true">5.4.7.</strong> Designing Resumability</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="learning_material/interruptible_software/designing_resumability/executor_resumability.html"><strong aria-hidden="true">5.4.7.1.</strong> Executor Resumability</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/designing_resumability/stepwise_resumability.html"><strong aria-hidden="true">5.4.7.2.</strong> Stepwise Resumability</a></li></ol></li><li class="chapter-item "><a href="learning_material/interruptible_software/resumable_implementation.html"><strong aria-hidden="true">5.4.8.</strong> Resumable Implementation</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/real_crates.html"><strong aria-hidden="true">5.4.9.</strong> Real Crates</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/summary.html"><strong aria-hidden="true">5.4.10.</strong> Summary</a></li><li class="chapter-item "><a href="learning_material/interruptible_software/qna.html"><strong aria-hidden="true">5.4.11.</strong> Q & A</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="ideas.html" class="active"><strong aria-hidden="true">6.</strong> Ideas</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="ideas/feature_gated_incremental_functionality.html"><strong aria-hidden="true">6.1.</strong> Feature Gated Incremental Functionality</a></li></ol></li><li class="chapter-item expanded "><a href="licenses.html"><strong aria-hidden="true">7.</strong> Licenses</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Peace Framework</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/azriel91/peace" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/azriel91/peace/edit/main/doc/src/ideas.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ideas"><a class="header" href="#ideas">Ideas</a></h1>
<p>This page records ideas that I'd like, but there isn't enough mental capacity and time to design and work on them yet.</p>
<details>
<summary>1. Abstraction over native storage and web storage &ndash; use IndexedDB instead of `WebStorage` APIs.</summary>
<div>
</div>
</details>
<details>
<summary>2. Graphical user interface that renders each flow's graph.</summary>
<div>
1. Each item is a node.
<ol>
<li>
<p>User can select which nodes to run – these may be a subset of the flow.</p>
</li>
<li>
<p>User can select beginning and ending nodes – and these can be in reverse order.</p>
 <!--  -->
</li>
</ol>
<p><strong>Note:</strong> Graphviz is compiled to WASM and published by <a href="https://github.com/hpcc-systems/hpcc-js-wasm">hpcc-systems/hpcc-js-wasm</a>. May be able to use that to render.</p>
<p><a href="https://github.com/magjac/graphviz-visual-editor">graphviz-visual-editor</a> is a library that allows basic editing of a graphviz graph. It's not yet developed to a point that is intuitive for users.</p>
</div>
</details>
<details>
<summary>3. Tool that uses `peace` to check consumer code whether it adheres to best practices.</summary>
<div>
</div>
</details>
<details>
<summary>4. Clean Command Retains History</summary>
<div>
End users may want to see what was previously deployed.
<p>If we retain a <code>${profile}/.history</code> directory with all previous execution information, it allows:</p>
<ul>
<li>Re-attempting clean up.</li>
<li>Reporting on what was cleaned up.</li>
<li>Computing costs of all executions</li>
</ul>
<p>Perhaps we should make the API be, on <code>visit</code>, return a list of identifiers for things to clean up.</p>
</div>
</details>
<details>
<summary>5. Types / proc macros to place constraints at compile time for aesthetic reports.</summary>
<div>
* short summary sentences
* 2 ~ 3 sentence paragraphs / word limit
<pre><pre class="playground"><code class="language-rust edition2021"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// An ID
#[derive(Clone, Debug, PartialEq, Eq)]
pub struct Id&lt;'s&gt;(Cow&lt;'s, str&gt;);

/// Single line description, hard limit of 200 characters.
#[derive(Clone, Debug, PartialEq, Eq)]
pub struct DescShort&lt;'s&gt;(Cow&lt;'s, str&gt;);
<span class="boring">}</span></code></pre></pre>
</div>
</details>
<details>
<summary>6. <code>MultiProfile</code> Cmd scope profile sort function</summary>
<div>
Users may want to sort profiles in the profile directory differently to their alphabetical / lexicographical sorting.
<p>This may be dependent on profile params – sort env based on env type, last execution time – profile history.</p>
</div>
</details>
<details>
<summary>7. Cancel-safe state storage</summary>
<div>
When an item ensure does multiple writes, there is a possibility of not all of those writes occur during execution:
<ul>
<li>user interrupts the execution.</li>
<li>internet connection drops.</li>
<li>machine loses power.</li>
</ul>
<p>In the last case, we cannot safely write state to disk, so a <code>StateCurrent</code> discover is needed to bring <code>StatesCurrentStored</code> up to date. However, the previous two cases, it is possible for <code>Item</code>s to return <code>State</code> that has been partially ensured, without making any further outgoing calls -- i.e. infer <code>StatesEnsured</code> based on the successful writes so far.</p>
<p>Note that this places a burden on the <code>Item</code> implementor to return the partial state ensured (which may conflict with keeping the <code>State</code> simple), as well as make the <code>ApplyFns::exec</code> return value more complex.</p>
<p>The trade off may not be worthwhile.</p>
</div>
</details>
<details>
<summary>8. Adding / removing / modifying items in flows</summary>
<div>
Implementors may add/remove/modify items in flows.
<p>Peace needs to be designed such that these changes do not cause already-existent flows to not be loadable, i.e. when:</p>
<ul>
<li>
<p><code>states_*.yaml</code> contains state for which an item no longer exists in the flow.</p>
</li>
<li>
<p><code>states_*.yaml</code> does not contain state for an item that is newly added to the flow.</p>
</li>
<li>
<p><code>states_*.yaml</code> contains state whose fields are different to a new version of an item.</p>
<p>This one can be addressed by having <code>State</code> be an enum, with versioned variants.</p>
</li>
</ul>
<p>Also see 14.</p>
</div>
</details>
<details>
<summary>9. Item expiry</summary>
<div>
For items that cost, it is useful to have an expiry time that causes it to be deleted.
<ul>
<li>This would have to be supported by the service that hosts the item.</li>
<li>There should be a way to notify the user of items that are about to expire.</li>
<li>There should also be a way to extend the item expiry times easily.</li>
</ul>
</div>
</details>
<details>
<summary>10. Interrupt / cancel safety</summary>
<div>
The [`tokio-graceful-shutdown`] library can be used to introduce interrupt safety into item executions. This is particularly useful for write functions.
<p>See the <a href="https://docs.rs/tokio-graceful-shutdown/latest/tokio_graceful_shutdown/struct.SubsystemHandle.html#method.is_shutdown_requested"><code>is_shutdown_requested</code></a> method in particular.</p>
</div>
</details>
<details>
<summary>11. Diffable item params</summary>
<div>
`DiffCmd` originally was written to diff the current and goal states. However, with the second use case of "diff states between two profiles", it is also apparent that other related functionality is useful:
<ul>
<li>Diff profile params / flow params.</li>
<li>Diff item params between profiles for a given flow.</li>
</ul>
<p>Because of diffable params, and [#94], the <code>Item</code> should likely have:</p>
<ul>
<li><code>type Params: ItemParams + Serialize + DeserializeOwned</code>.</li>
<li>feature gated <code>fn item_params_diff(..)</code>.</li>
</ul>
<p><code>fn item_params_diff(..)</code> should likely have a similar signature to <code>fn state_diff(..)</code>, whereby if one uses  <code>XData&lt;'_&gt;</code>, the other should as well for consistency:</p>
<ul>
<li>For <code>MultiProfileSingleFlow</code> commands, a diff for item params which contains a referential value (e.g. "use the <code>some_predecessor.ip_address()</code>") may(?) need information about <code>some_predecessor</code> through <code>Resources</code> / <code>Data</code>.</li>
</ul>
<p>We should work out the design of that before settling on what <code>state_diff</code> and <code>item_params_diff</code>'s function parameters will be. See <strong>Design Thoughts</strong> on [#94] for how it may look like.</p>
</div>
</details>
<details>
<summary>12. Default item params</summary>
<div>
An `Item`'s params may not necessarily be mandatory. From the `Params` type (and corresponding trait), Peace may:
<ul>
<li>Insert default param values, if the <code>Item</code> implementor provides a default</li>
<li>Still make the params required if there is no default.</li>
<li>Provide a way for <code>ParamsSpec</code> for each field to be the default, or a mapping function.</li>
</ul>
</div>
</details>
<details>
<summary>13. Upgrades: Tolerate optional or different workspace params / item params / states</summary>
<div>
When new workspace params are added, or new items are added to a flow, existing `*_params.yaml`, `item_params.yaml`, and `states_*.yaml` may not contain values for those newly added params / items.
<p>Automation software should be able to:</p>
<ul>
<li>Work with missing parameters.</li>
<li>Work with changed parameter types.</li>
</ul>
<p>When workspace params / items are removed from a flow, leftover params / state are no longer used. However, we may want to do one of:</p>
<ul>
<li>Notify the user to clean up unused params</li>
<li>Peace should ignore it</li>
<li>Inform the automator to still register the item, so that old execution may be loaded.</li>
</ul>
</div>
</details>
<details>
<summary>14. Store params per execution, pass previous execution's params to clean cmd</summary>
<div>
Instead of requiring `Item::State` to store the params used when applied, maybe we should store the params used in the last ensure alongside that item's state.
<p>Users are concerned with the current state of the item. They also may be concerned with the parameters used to produce that state. Requiring item implementors to store paths / IP addresses within the state that has been ensured feels like unnecessary duplication.</p>
<p>However, when comparing diffs, we would hope either:</p>
<ul>
<li>The params used to discover the current and goal states are the same, or</li>
<li>The "params and states" pairs are both compared.</li>
</ul>
<p>Also:</p>
<ul>
<li><code>apply_check</code> needs to have both the old and new params to determine whether apply needs to be executed.</li>
<li><code>State</code> as the output API, should not necessarily include params.</li>
<li>When parameters change, and an apply is interrupted, then we may have earlier items using the new parameters, and later items still on the previous parameters. More complicated still, is if parameters change <em>in the middle of an interruption</em>, and re-applied.</li>
</ul>
<p>Perhaps there should be a <code>(dest_parameters, Item::State)</code> current state, and a <code>(src_parameters, Item::State)</code> goal state. That makes sense for file downloads if we care about cleaning up the previous <code>dest_path</code>, to move a file to the new <code>dest_path</code>.</p>
<p>Or, all dest parameters should be in <code>Item::State</code>, because that's what's needed to know if something needs to change.</p>
<p>Another thought:</p>
<p><code>states_*.yaml</code> should store this per item:</p>
<ul>
<li>params used for apply</li>
<li>values resolved for those params</li>
<li>current state</li>
</ul>
<p>Also see 8.</p>
</div>
</details>
<details>
<summary>15. Use <a href="https://openlayers.org/">openlayers</a> for tiling level of detail</summary>
<div>
Generate dot diagram using graphviz with full resolution, and then convert to tiles, then display different styling depending on the state of each item.
</div>
</details>
<details>
<summary>16. Combine <code>data</code> and <code>params{,_partial}</code> into <code>FnCtx</code></summary>
<div>
`Item` functions take in `FnCtx`, `data`, and item `params` as separate arguments.
<p>This was done to:</p>
<ul>
<li>Reduce the additional layer to get <code>Item::Params</code>, or <code>Item::ParamsPartial</code>.</li>
<li>Avoid progress sender from being passed in to function that didn't need it.</li>
</ul>
<p>However, functions don't necessarily need runtime <code>fn_ctx</code> or <code>data</code>, making it noise in the signature.</p>
<p>Should we combine all 3 into <code>FnCtx</code>? It would make <code>FnCtx</code> type parameterized over <code>Params</code> and <code>ParamsPartial</code>.</p>
</div>
</details>
<details>
<summary>16. Combine <code>data</code> and <code>params{,_partial}</code> into <code>FnCtx</code></summary>
<div>
`Item` functions take in `FnCtx`, `data`, and item `params` as separate arguments.
<p>This was done to:</p>
<ul>
<li>Reduce the additional layer to get <code>Item::Params</code>, or <code>Item::ParamsPartial</code>.</li>
<li>Avoid progress sender from being passed in to function that didn't need it.</li>
</ul>
<p>However, functions don't necessarily need runtime <code>fn_ctx</code> or <code>data</code>, making it noise in the signature.</p>
<p>Should we combine all 3 into <code>FnCtx</code>? It would make <code>FnCtx</code> type parameterized over <code>Params</code> and <code>ParamsPartial</code>.</p>
</div>
</details>
<details>
<summary>17. Style edges / items red when an error occurs.</summary>
<div>
When we hit an error, can we go through parameters / states to determine whether the error is to do with an item itself, or a link between the item and its predecessor?
<p>Then style that link red.</p>
</div>
</details>
<details>
<summary>18. Markdown text instead of <code>Presentable</code>.</summary>
<div>
Instead of requiring developers to `impl Presentable for` all the different types that use, and use different `Presentable` methods, we could require them to implement `Display`, using a markdown string.
<p>Then, for different <code>OutputWrite</code> implementations, we would do something like this:</p>
<ul>
<li><code>CliOutput</code>: <code>syntect</code> highlight things.</li>
<li><code>WebiOutput</code>: Use commonmark to generate HTML elements, and with 19, use that as part of each item node's content.</li>
</ul>
</div>
</details>
<details>
<summary>19. HTML with SVG arrows and flexbox instead of <code>dot</code>.</summary>
<div>
Instead of using `dot`, we just use flexbox and generate arrows between HTML `div`s.
<p>This trades</p>
</div>
</details>
## Notes
<details>
<summary>1. SSH-like on Windows</summary>
<div>
* psexec
* [Windows powershell and WinRM](https://stackoverflow.com/questions/10237083/how-to-programmatically-remotely-execute-a-program-in-ec2-windows-instance/13284313#13284313)
</div>
</details>
<details>
<summary>2. Learnings from envman end-to-end implementation.</summary>
<div>
1. Referential lookup of values in state / item params. ([\#94])
<ol>
<li>
<p>AWS SDK is not WASM ready -- includes <code>mio</code> unconditionally through <code>tokio</code> (calls UDP). (<a href="https://github.com/awslabs/aws-sdk-rust/issues/59">aws-sdk-rust#59</a>)</p>
</li>
<li>
<p>AWS SDK does not always include error detail -- S3 <code>head_object</code>. (<a href="https://github.com/awslabs/aws-sdk-rust/issues/227">aws-sdk-rust#227</a>)</p>
</li>
<li>
<p>Progress output should enable-able for state current / goal discover / clean functions.</p>
</li>
<li>
<p>Flow params are annoying to register every time we add another item. Maybe split end user provided params from item params.</p>
</li>
<li>
<p>Blank item needs a lot of rework to be easier to implement an item. ([67], [#96])</p>
</li>
<li>
<p>For <code>ApplyCmd</code>, collect <code>StateCurrent</code>, <code>StateGoal</code>, <code>StateDiff</code> in execution report.</p>
</li>
<li>
<p>AWS errors' <code>code</code> and <code>message</code> should be shown to the user.</p>
</li>
<li>
<p>Progress limit should not be returned in <code>ApplyFns::check</code>, but sent through <code>progress_sender.limit(ProgressLimit)</code>. This simplifies <code>check</code>, and allows state current/goal discovery to set the limits easily.</p>
</li>
<li>
<p>Consolidate <code>StatesDiscoverCmd</code> and <code>ApplyCmd</code>, so the outcome of a command is generic. Maybe use a trait and structs, instead of enum variants and hardcoded inlined functions, so that it is extendable.</p>
</li>
<li>
<p>Add an <code>ListKeysAligned</code> presentable type so <code>Presenter</code>s can align keys of a list dynamically.</p>
</li>
<li>
<p>Remove the <code>peace_cfg::State</code> type.</p>
</li>
<li>
<p>Contextual presentable strings, for states and diffs.</p>
<p>What command is this called for:</p>
<ul>
<li>state current: "is .."</li>
<li>goal state: "should be .."</li>
<li>diff between current and goal: "will change from .. to .."</li>
<li>diff between current and cleaned: "will change from .. to .."</li>
<li>diff between two profiles' current states: : "left is .., right is .."
Maybe we don't burden the presenter implementation, but Peace will insert the contextual words</li>
</ul>
</li>
<li>
<p>Easy API functions for diffing -- current vs goal, between profiles' current states.</p>
</li>
<li>
<p>What about diffing states of different state versions?</p>
<p>Maybe this is already taken care of -- <code>state_diff</code> is already passed in both <code>State</code>s, so implementors had to manage it already.</p>
</li>
</ol>
</div>
</details>
<pre><code class="language-bash">fd -Ftd 'app_cycle' -x bash -c 'mv $0 ${0/app_cycle/envman}' {}
fd -Ftf 'app_cycle' -x bash -c 'mv $0 ${0/app_cycle/envman}' {}
sd -s 'app_cycle' 'envman' $(fd -tf)
sd -s 'app cycle' 'envman' $(fd -tf)
sd -s 'App Cycle' 'Env Man' $(fd -tf)
sd -s 'AppCycle' 'EnvMan' $(fd -tf)
cargo fmt --all
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="learning_material/interruptible_software/qna.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="ideas/feature_gated_incremental_functionality.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="learning_material/interruptible_software/qna.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="ideas/feature_gated_incremental_functionality.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="src/js/highlightjs-line-numbers.min.js"></script>


    </div>
    </body>
</html>
